# üìò Library Management System (Oracle SQL Version)

## üìñ Overview
This project implements a **Library Management System** using **Oracle SQL**.  
It creates and populates all required database tables, defines relationships (foreign keys), and provides several **stored procedures** to query and manage library data.

The system handles:
- Publishers  
- Books  
- Library branches  
- Borrowers  
- Book loans  
- Book copies  
- Book authors  

---

## üóÇÔ∏è Project Structure
| File | Description |
|------|--------------|
| `library_management_system.sql` | Main SQL script to create database schema, insert sample data, and define stored procedures. |
| `README.md` | This documentation file. |

---

## üß± Database Schema

| Table | Description |
|--------|--------------|
| `tbl_publisher` | Stores publisher details. |
| `tbl_book` | Stores book information, linked to publishers. |
| `tbl_library_branch` | Represents library branches. |
| `tbl_borrower` | Stores borrower details. |
| `tbl_book_loans` | Records book loans made to borrowers. |
| `tbl_book_copies` | Tracks number of copies of each book per branch. |
| `tbl_book_authors` | Associates authors with books. |

Each table uses **primary keys**, **foreign keys**, and **CASCADE** options for referential integrity.

---

## üß∞ Stored Procedures Included

| Procedure | Description |
|------------|--------------|
| `bookCopiesAtAllSharpstown` | Shows how many copies of *‚ÄúThe Lost Tribe‚Äù* exist in the *Sharpstown* branch. |
| `bookCopiesAtAllBranches` | Shows how many copies of *‚ÄúThe Lost Tribe‚Äù* exist in **each** branch. |
| `NoLoans` | Lists all borrowers who have **no books checked out**. |
| `LoanersInfo` | Shows borrowers who have books **due today** at a specific branch. |
| `TotalLoansPerBranch` | Displays total number of loans per branch. |
| `BooksLoanedOut` | Lists borrowers with **five or more** books checked out. |
| `BookbyAuthorandBranch` | Displays all books by a specific author available at a given branch. |

---

## ‚öôÔ∏è How to Run (Oracle SQL Developer or SQL*Plus)

1. **Open Oracle SQL Developer** (or SQL*Plus).
2. Connect to your Oracle Database as a user with privileges to create tables and procedures.
3. **Run the script:**
   ```sql
   @library_management_system.sql
   ```
4. If prompted with:
   ```
   Enter value for unwin:
   ```
   disable variable substitution first:
   ```sql
   SET DEFINE OFF;
   ```
5. After execution, all tables, data, and procedures will be created.

---

## üß© Notes for Oracle Compatibility

- **IDENTITY columns** in SQL Server are replaced with:
  ```sql
  GENERATED BY DEFAULT AS IDENTITY
  ```
- **VARCHAR** ‚Üí **VARCHAR2**
- Oracle does **not support `ON UPDATE CASCADE`**, only `ON DELETE CASCADE`.
- Use `q'[]'` quoting to handle strings containing `&`:
  ```sql
  'George Allen & Unwin' ‚Üí q'[George Allen & Unwin]'
  ```
- Use `SYSDATE` instead of `GETDATE()` in date comparisons.

---

## üßæ Example Usage
To query books by a specific author and branch:
```sql
EXEC BookbyAuthorandBranch('Central', 'Stephen King');
```

To view borrowers with more than five books checked out:
```sql
EXEC BooksLoanedOut(5);
```

---


